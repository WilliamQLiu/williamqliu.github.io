---
layout: post
title: Representational State Transfer (REST)
---

## {{ page.title }}

- - - -

##Summary

_Representational State Transfer (REST)_ is a software architecture style that relies on a stateless, client-server, cacheable communications protocol.  The idea is that client-server is separated for portability of code and ability to scale web services.  REST basically exposes application data through an API and with a web framework like django, it's easy to use django-rest-framework to implement a RESTful API.

##Commands

REST systems communicate over Hypertext Transfer Protocol (https) and uses the following to retrieve and send data.

* GET
  Read an existing resource.  This is like SELECT in SQL
* HEAD
  Similar to GET except server doesn't return a message-body in response.  Instead, it gets the metadata of an existing resource.
* POST
  Creates a new resource.  This is like INSERT in SQL
* PUT
  Updates an existing resource.  This is like UPDATE in SQL
* PATCH
  Usually not implemented.  Updates part of an existing resource.  This is like UPDATE in SQL
* DELETE
  Deletes an existing resource.  This is like DELETE in SQL

##Important HTTP Status Codes

* 200 OK means Success
  GET - returns resource
  PUT - Provides status message or returns message
* 201 Created means Success
  POST - Provides status message or returns newly created resource
  204 No Content means Success
    Completed, but nothing to return (because of no content)
* 304 Unchanged means Redirect
    There's no changes since the last request (usually used to checking a field like 'Last-Modified' and 'Etag' headers, which is a mechanism for web cache validation)
* 400 Bad Request means Failure
  PUT - returns error message, including form validation errors
  POST - returns error message, including form validation errors
* 401 Unauthorized means Failure
    Authentication required but user did not provide credentials
* 403 Forbidden means Failure
    User attempted to access restricted content
* 404 Not Found means Failure
    Resource was not found
* 405 Method Not Allowed means Failure
    An invalid HTTP method was attempted
* 410 Gone means Failure
    A method was attempted that is no longer supported.  E.g. mobile apps can test for this condition and if it occurs, tell the user to upgrade
* 500 Internal Server Error means Failure
    The server encountered an unexpected condition

####Sample API URLs

* api/v1/resume
    for GET and POST
* api/v1/resume/:slug/
    for GET, PUT, DELETE
* api/v1/job
    for GET and POST
* api/v1/job/:slug/
    for GET, PUT, DELETE
* Same goes for say api/v1/education and api/v1/experience
* slug represents a variable (e.g. the resume id)

####Considerations when making a RESTful API

* Version the API
    If it's still being used by someone, it doesn't force them to update their code.  Even if you think there's only going to be one version, someone will ask for version 2 so just put `/api/v1/` instead of just `/api/`
* Each state should have all the information necessary
    Don't create just a direct link between resources and the model because this fails when you want to return a denormalized model.  For example, `{'resume': 'will', education: [1, 2, 3]}` should be `{'resume': 'will', education: [ 'api/v1/education/1', 'api/v1/education/2', 'api/v1/education/3' ]}`
    If we use the first example we don't know how to construct the url for education (we only have 1, 2, 3).
    If we use the latter example we have the complete web URL
* Don't hardcode the format
    e.g. `?format=JSON, ?format=XML`; the output format should be determined from the HTTP 'Accept' header
* Consistent Naming (Plural or singular) -  I think either is fine (as long as it's consistent) or go with whatever your company has already.  Some say use plural because lots of file structures are setup that way (e.g. Program Files in Windows).  Some say use singular because that's how database table names work.
* Documentation - Always have good public documentation.  My favorite so far is the stripe api.  Codecademy also has a list of API lessons where you can learn how to use the 'requests' library to interface with them.
* Security - Make all API requests over HTTPS (which is HTTP over SSL) for security purposes; people using the API might be on a coffee shop or airport wifi that isn't secure and the communication isn't encrypted.  Someone can eavesdrop or impersonate someone if the credentials are openly accessible
