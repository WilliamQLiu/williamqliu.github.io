---
layout: post
title: Vim Text Editor
---

## {{ page.title }}


- - - -

#Summary

These are my notes from switching to VIM as my main text editor.

##Vim tutor
Start vim with `vim`. Type in `:vimtutor` to start the built in vim tutor.

##Files

* `q` to quit
* `q!` to trash all changes
* `w` to save changes
* `wq!` to save and quit

##Operators Numbers Motion
You combine an operator with a motion, like `dw` to delete a word

* Operator Motion - e.g. `dw` to delete a word, `d$` to delete to end of line
* Operator Number Motion - e.g. d2w to delete two words
* Number Motion - e.g. 2w to move two words

###Operators
Operators are an action like delete.

* `i` to switch to insert mode before cursor
* `a` to switch to insert mode after cursor
* `A` to append to end of line
* `d` to delete (will need to be followed by an operator like `w` to delete a word, `$` to delete to end of line)
* `c` to change (`cw` to modify that word, `c$` to modify to end of line)
* `x` to remove a char
* `p` to put back text that was previously deleted
* `r` to replace a single character
* `o` to open a new line below the curosr (then insert mode)
* `O` to open a new line above the cursor (then insert mode)

###Motion
So moving is the second piece

* `h` to move left (can also be followed by a motion)
* `j` to move up (can also be follwoed by a motion)
* `k` to move down (can also be folowed by a motion)
* `l` to move right (can also be folowed by a motion)
* `w` to move to next word (excluding first char); usually use `i` after to write at beginning of word
* `e` to move to end of current word (including last char); usually use `a` after to write at end of word
* Shift + `$` to move to end of the line
* `0` to move to start of the line
* Shift + `A` to move cursor to end of the line (insert mode)
* Shift + `O` to open a new line above the cursor (insert mode)
* `gg` to move to beginning of document
* `G` to move to end of document
* `Ctrl` + `f` to move large jump forward
* `Ctrl` + `b` to move large jump backward
* Number (e.g. 400) + `G` to jump to a line number

##Copy, Paste
* `y` to yank (copy) followed by a motion (e.g. `y` + `w` to copy a word)
* `p` to paste, can be followed by a motion

##Undo, Redo
`u` to undo a single char
`U` to undo a whole line
`Ctrl` + `R` to redo changes

##Location
`Ctrl` + `g` to show the current file pathname and file info like number of lines

##Modes
* Normal Mode is default mode
* `v` to enter visual mode (allows you to copy lines of text)
* `i` to enter Insert Mode (add new text)
* `R` to enter Replace Mode (like insert mode, but replaces existing text)

##Search

###Text Search
In Normal mode, type in `/` to start search (going forwards), `?` to search (going backwards)
* `n` to go to next result (going forward)
* `N` to go to next result (going backward)
* `\c` to ignore case for just this search (e.g. `/helloworld\c`) 

###Matching Parenthesis Search
`%` on an open parenthesis to jump to its matching pair: (), [], {}

##Substitute
`:s/old/new` to substitute text 'old' with text 'new', only first occurrence
`:#,#s/old/new/g` to substitute text 'old' with text 'new', only lines # to #
`:%s/old/new/g`to substitute text 'old' with text 'new', globally (every occurrence in file)
`:%s/old/new/gc`to substitute text 'old' with text 'new', globally (every occurrence in file), with prompt

##Settings
Permanent settings can be added to a vimrc file in ~/.vimrc
* `set number` to show line numbers
* `set ruler` to show ruler at bottom right hand corner
* `set ic` to ignore case
* `set hlsearch` to highlight searches (and `noh` to no longer highlight)
* `set incsearch`
* `set nocp` for no compatibility mode

##Code Completion
* Start typing in a command (e.g. `:e`) then press`Ctrl` + `d` to see all options
* `Tab` to complete
* Make sure to `set nocp`

##External Commands
`!` followed by an external command to run an external command
* `!ls` to show current listing directory

##Files

###Writing to Files
* `:w file1` to write to file1
* You might use by highlighting text in Visual mode, then do `:w file1`

###Reading from Files
* `:r file1` to read from file1
* You might use by reading text from file and outputting to your current file
* Other uses might be `:r !ls` to read in from external command (e.g. list directory)

##Help
`help` + optional command

##Windows
* `wincmd1`for all of the windows commands where you see `Ctrl` + `W`
* `Ctrl` + `W` to switch windows
* Plugins allow `Ctrl` + movement (e.g. hjkl) since I'm a goof and sometimes press `Cmd` + `w` to quit

###Splitting Windows
* `:split` to split windows (two horizontal windows), also `:vsplit` to split to vertical windows
* `:close` to close current window, also `:only` to close all other windows except the current focused one
* `:split file1` to open a separate file
* `:new` to open a new file (as top-bottom windows), also `vnew` or `vertical new` (side by side)

###Window Size
Window size can be adjusted by dragging the mouse over the status bar or by the below commands:
* `Ctrl` + `W` + `+` or `-` to increase or decrease window size
* `{height}` + `Ctrl` + `_` to set window height to specific line size
* `Ctrl` + `W` + `_` to increase window size as high as possible
* You can set settings for `winminheight`, `winminwidth`, `equalalways` option   

###Moving Windows
* `Ctrl` + `W`, then either `H`, `J`, `K`, `L` (note: has to be capital)

###Exiting Windows
* `qall` to quit all windows (quit all)
* `wall` to save all windows (write all)
* `wqall` to quit and save all windows (quit, write all)
* `qall!` to quit all windows and throw away all changes`

##Diff
You can diff using `vimdiff` (outside vim, in the shell) or inside vim

###Vimdiff
To see differences between two files, start vim in `vimdiff` mode; type in shell (NOT in vim)
* `vimdiff oldfile newfile` 
* `set noscrollbind` if you don't want both windows to scroll the same
* You will see folds (diffs in code), can be opened and closed with `zo` (open) and `zc` (close)

###Diff inside Vim
* `edit newfile`
* `vertical diffsplit oldfile`, if you do not put in `vertical`, default is `horizontal`

##Jumping Between Changes
* `]c` to move to next change
* `[c` to move to previous change

##Buffers
###Idea behind Buffers (from vim help)
Summary:
   A buffer is the in-memory text of a file.
   A window is a viewport on a buffer.
   A tab page is a collection of windows.

A window is a viewport onto a buffer.  You can use multiple windows on one
buffer, or several windows on different buffers.

A buffer is a file loaded into memory for editing. The original file remains
unchanged until you write the buffer to the file.

Buffers can have three states:
* active-buffer ('a'): buffer displayed in a window; filed been read in, buffer might have changed and diff than file
* hidden-buffer ('h'): buffer is not displayed in a window; otherwise same as active-buffer
* inactive-buffer (' '): buffer is not displayed and does not contain anything

##Buffer Commands
* `:ls` or `buffers` to list current buffers
* `:bnext` to go to next buffer

##Tabs
Tabs can be created or deleted by the GUI (+) and (x) signs or by text:
* `:tabedit file1` to create or open a tab
* `gt` is go to next tab
* `gT` is go back a tab
`tab split` to open up another tab with same text

