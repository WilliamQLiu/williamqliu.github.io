---
layout: post
title: ELK Stack
---


# {{ page.title }}

ELK stands for:

Elasticsearch - Stores all of the logs
Logstash - processes incoming logs
Kibana - web interface for searching and visualizing logs, which are proxied through Nginx

Filebeat - installed on client servers that will send their logs to Logstash

## Installation

I installed via apt-get so I'm running these as systemctl, e.g.

	sudo systemctl start kibana
	sudo systemctl start elasticsearch
	sudo systemctl start nginx

## Configs

Elasticsearch is configured through `/etc/elasticsearch/elasticsearch.yml`
Kibana is configured through `/etc/kibana/kibana.yml` or `/opt/kibana/config/kibana.yml`

### Elasticsearch Config

Setup your `/etc/elasticsearch/elasticsearch.yml` file so that it's

    network.host: localhost


### Kibana Config

Setup your `/opt/kibana/config/kibana.yml` file with
	
	server.host: "localhost"

### Nginx Config

For nginx, also install apache2-utils

	sudo apt-get install nginx apache2-utils

	# Create an admin user e.g. ('kibanaadmin', but use another name)
	sudo htpasswd -c /etc/nginx/htpasswd.users kibanaadmin

